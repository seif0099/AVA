Index: src/main/java/com/example/demo/Controllers/AvaFolderView.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.demo.Controllers;\r\n\r\nimport com.example.demo.DAOs.AvaFolderDAO;\r\nimport com.example.demo.Entities.AvaFolder;\r\nimport com.example.demo.Entities.SharedData;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.stage.FileChooser;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.*;\r\n\r\npublic class AvaFolderView implements Initializable {\r\n    @FXML\r\n    private ComboBox<?> avaType_cobx;\r\n\r\n    @FXML\r\n    private TextField baseCalc_field;\r\n\r\n    @FXML\r\n    private Button createAva_btn;\r\n\r\n    @FXML\r\n    private TextField dateDomiciliation_field;\r\n\r\n    @FXML\r\n    private TextField droitInit_field;\r\n\r\n    @FXML\r\n    private Button importDeclarartion_btn;\r\n\r\n    @FXML\r\n    private TextField soldeAva_field;\r\n\r\n    @FXML\r\n    private TextField titulaire_field;\r\n\r\n    @FXML\r\n    private AnchorPane parentForm;\r\n    @FXML\r\n    private Label importLabel;\r\n    private String[] avaTypes = {\"A\",\"E\"};\r\n\r\n    public void addAvaTypesList(){\r\n        SharedData.fiscalPath = \"\";\r\n        titulaire_field.setText(SharedData.currentClient.getID().toString());\r\n        Date date = new Date();\r\n        java.sql.Date sqlDate = new java.sql.Date(date.getTime());\r\n        dateDomiciliation_field.setText(String.valueOf(sqlDate));\r\n\r\n        List<String> listT = new ArrayList<String>(2);\r\n        for (String data : avaTypes){\r\n            listT.add(data);\r\n        }\r\n        ObservableList listData = FXCollections.observableArrayList(listT);\r\n        avaType_cobx.setItems(listData);\r\n    }\r\n    public void uploadFile(){\r\n        FileChooser open = new FileChooser();\r\n        FileChooser.ExtensionFilter imageFilter = new FileChooser.ExtensionFilter(\"Image Files\", \"*.jpg\", \"*.png\");\r\n        open.getExtensionFilters().add(imageFilter);\r\n        File file = open.showOpenDialog(parentForm.getScene().getWindow());\r\n        if(file != null){\r\n            SharedData.fiscalPath=file.getAbsolutePath();\r\n            importLabel.setText(file.getName());\r\n        }\r\n    }\r\n    public void changeAvaSoldForBase(){\r\n        baseCalc_field.textProperty().addListener((observable,oldValue,newValue)->{\r\n            if (!newValue.matches(\"\\\\d*\")) {\r\n                baseCalc_field.setText(newValue.replaceAll(\"[^\\\\d]\", \"\"));\r\n            }\r\n            if(!newValue.isEmpty() && newValue.matches(\"\\\\d*\") ){\r\n                double afterCalc = (double)Math.round((Integer.parseInt(baseCalc_field.getText()) * 0.25) * 100)/100;\r\n                droitInit_field.setText(Double.toString(afterCalc));\r\n                soldeAva_field.setText(Double.toString(afterCalc));\r\n            }\r\n        });\r\n    }\r\n    public void createAvaFolder() throws IOException {\r\n        Alert alert;\r\n        if(avaType_cobx.getSelectionModel().getSelectedItem() == null\r\n                || titulaire_field.getText().isEmpty() || baseCalc_field.getText().isEmpty() || droitInit_field.getText().isEmpty() || soldeAva_field.getText().isEmpty()\r\n                || dateDomiciliation_field.getText().isEmpty() || SharedData.fiscalPath.isEmpty())\r\n        {\r\n            alert = new Alert(Alert.AlertType.ERROR);\r\n            alert.setTitle(\"Message Erreur\");\r\n            alert.setHeaderText(null);\r\n            alert.setContentText(\"Il faut remplir tout les champs Pour créer le dossier AVA !\");\r\n            alert.showAndWait();\r\n        }else {\r\n            alert = new Alert(Alert.AlertType.CONFIRMATION);\r\n            alert.setTitle(\"Confirmation Message\");\r\n            alert.setHeaderText(null);\r\n            alert.setContentText(\"Confirmer la création de dossier AVA ?\");\r\n            Optional<ButtonType> option = alert.showAndWait();\r\n            if(option.get().equals(ButtonType.OK)){\r\n                String urf = SharedData.fiscalPath;\r\n                urf = urf.replace(\"\\\\\",\"\\\\\\\\\");\r\n                AvaFolder folderAva = new AvaFolder(\r\n                        1,\r\n                        (String)avaType_cobx.getSelectionModel().getSelectedItem(),\r\n                        SharedData.currentClient.getID(),\r\n                        Double.parseDouble(baseCalc_field.getText()),\r\n                        Double.parseDouble(droitInit_field.getText()),\r\n                        Double.parseDouble(soldeAva_field.getText()),\r\n                        dateDomiciliation_field.getText(),\r\n                        urf\r\n                );\r\n\r\n                AvaFolderDAO.ajouterDossierAva(folderAva);\r\n                createAva_btn.getScene().getWindow().hide();\r\n                Parent root = FXMLLoader.load(getClass().getResource(\"/com/example/demo/client_manager-view.fxml\"));\r\n                Stage stage = new Stage();\r\n                Scene scene = new Scene(root);\r\n                stage.setScene(scene);\r\n                stage.show();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        addAvaTypesList();\r\n        changeAvaSoldForBase();\r\n\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/example/demo/Controllers/AvaFolderView.java b/src/main/java/com/example/demo/Controllers/AvaFolderView.java
--- a/src/main/java/com/example/demo/Controllers/AvaFolderView.java	
+++ b/src/main/java/com/example/demo/Controllers/AvaFolderView.java	
@@ -115,8 +115,8 @@
                         Double.parseDouble(droitInit_field.getText()),
                         Double.parseDouble(soldeAva_field.getText()),
                         dateDomiciliation_field.getText(),
-                        urf
-                );
+                        urf,
+                        "");
 
                 AvaFolderDAO.ajouterDossierAva(folderAva);
                 createAva_btn.getScene().getWindow().hide();
